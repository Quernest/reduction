!function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/reduction/",r(r.s=56)}([function(t,e,r){"use strict";var o=r(163),n=r(5),s=r(166),i=r(167),u=r(168);class a{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let o=new f(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)o.set(n,t,r[n*e+t]);return o}static rowVector(t){let e=new f(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new f(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new f(t,e)}static ones(t,e){return new f(t,e).fill(1)}static rand(t,e,r={}){if("object"!==typeof r)throw new TypeError("options must be an object");const{random:o=Math.random}=r;let n=new f(t,e);for(let s=0;s<t;s++)for(let t=0;t<e;t++)n.set(s,t,o());return n}static randInt(t,e,r={}){if("object"!==typeof r)throw new TypeError("options must be an object");const{min:o=0,max:n=1e3,random:s=Math.random}=r;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(n))throw new TypeError("max must be an integer");if(o>=n)throw new RangeError("min must be smaller than max");let i=n-o,u=new f(t,e);for(let a=0;a<t;a++)for(let t=0;t<e;t++){let e=o+Math.round(s()*i);u.set(a,t,e)}return u}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let o=Math.min(t,e),n=this.zeros(t,e);for(let s=0;s<o;s++)n.set(s,s,r);return n}static diag(t,e,r){let o=t.length;void 0===e&&(e=o),void 0===r&&(r=e);let n=Math.min(o,e,r),s=this.zeros(e,r);for(let i=0;i<n;i++)s.set(i,i,t[i]);return s}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,o=t.columns,n=new f(r,o);for(let s=0;s<r;s++)for(let r=0;r<o;r++)n.set(s,r,Math.min(t.get(s,r),e.get(s,r)));return n}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,o=t.columns,n=new this(r,o);for(let s=0;s<r;s++)for(let r=0;r<o;r++)n.set(s,r,Math.max(t.get(s,r),e.get(s,r)));return n}static checkMatrix(t){return a.isMatrix(t)?t:new f(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,o=!0,n=!1;for(;t<this.rows&&o;){for(e=0,n=!1;e<this.columns&&!1===n;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(n=!0,r=e):(o=!1,n=!0);t++}return o}isReducedEchelonForm(){let t=0,e=0,r=-1,o=!0,n=!1;for(;t<this.rows&&o;){for(e=0,n=!1;e<this.columns&&!1===n;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(n=!0,r=e):(o=!1,n=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(o=!1);t++}return o}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let o=e;for(let n=e;n<t.rows;n++)t.get(n,r)>t.get(o,r)&&(o=n);if(0===t.get(o,r))r++;else{t.swapRows(e,o);let n=t.get(e,r);for(let o=r;o<t.columns;o++)t.set(e,o,t.get(e,o)/n);for(let o=e+1;o<t.rows;o++){let n=t.get(o,r)/t.get(e,r);t.set(o,r,0);for(let s=r+1;s<t.columns;s++)t.set(o,s,t.get(o,s)-t.get(e,s)*n)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,o=r-1;for(;o>=0;)if(0===t.maxRow(o))o--;else{let n=0,s=!1;for(;n<r&&!1===s;)1===t.get(o,n)?s=!0:n++;for(let r=0;r<o;r++){let s=t.get(r,n);for(let i=n;i<e;i++){let e=t.get(r,i)-s*t.get(o,i);t.set(r,i,e)}}o--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let o=new f(this.rows*e,this.columns*r);for(let n=0;n<e;n++)for(let t=0;t<r;t++)o.setSubMatrix(this,this.rows*n,this.columns*t);return o}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){Object(n.f)(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return f.rowVector(this.getRow(t))}setRow(t,e){Object(n.f)(this,t),e=Object(n.h)(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){Object(n.f)(this,t),Object(n.f)(this,e);for(let r=0;r<this.columns;r++){let o=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,o)}return this}getColumn(t){Object(n.a)(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return f.columnVector(this.getColumn(t))}setColumn(t,e){Object(n.a)(this,t),e=Object(n.c)(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){Object(n.a)(this,t),Object(n.a)(this,e);for(let r=0;r<this.rows;r++){let o=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,o)}return this}addRowVector(t){t=Object(n.h)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=Object(n.h)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=Object(n.h)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=Object(n.h)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=Object(n.c)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=Object(n.c)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=Object(n.c)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=Object(n.c)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){Object(n.f)(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){Object(n.a)(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxIndex(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let o=0;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o),e[0]=r,e[1]=o);return e}min(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minIndex(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let o=0;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o),e[0]=r,e[1]=o);return e}maxRow(t){Object(n.f)(this,t);let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){Object(n.f)(this,t);let e=this.get(t,0),r=[t,0];for(let o=1;o<this.columns;o++)this.get(t,o)>e&&(e=this.get(t,o),r[1]=o);return r}minRow(t){Object(n.f)(this,t);let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){Object(n.f)(this,t);let e=this.get(t,0),r=[t,0];for(let o=1;o<this.columns;o++)this.get(t,o)<e&&(e=this.get(t,o),r[1]=o);return r}maxColumn(t){Object(n.a)(this,t);let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){Object(n.a)(this,t);let e=this.get(0,t),r=[0,t];for(let o=1;o<this.rows;o++)this.get(o,t)>e&&(e=this.get(o,t),r[0]=o);return r}minColumn(t){Object(n.a)(this,t);let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){Object(n.a)(this,t);let e=this.get(0,t),r=[0,t];for(let o=1;o<this.rows;o++)this.get(o,t)<e&&(e=this.get(o,t),r[0]=o);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r)*this.get(t,r);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){a.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let o=0;o<e.length;o++)r+=e[o]*t[o];return r}mmul(t){t=f.checkMatrix(t);let e=this.rows,r=this.columns,o=t.columns,n=new f(e,o),s=new Float64Array(r);for(let i=0;i<o;i++){for(let e=0;e<r;e++)s[e]=t.get(e,i);for(let t=0;t<e;t++){let e=0;for(let o=0;o<r;o++)e+=this.get(t,o)*s[o];n.set(t,i,e)}}return n}strassen2x2(t){t=f.checkMatrix(t);let e=new f(2,2);const r=this.get(0,0),o=t.get(0,0),n=this.get(0,1),s=t.get(0,1),i=this.get(1,0),u=t.get(1,0),a=this.get(1,1),c=t.get(1,1),h=(r+a)*(o+c),l=(i+a)*o,p=r*(s-c),g=a*(u-o),m=(r+n)*c,w=h+g-m+(n-a)*(u+c),b=p+m,d=l+g,y=h-l+p+(i-r)*(o+s);return e.set(0,0,w),e.set(0,1,b),e.set(1,0,d),e.set(1,1,y),e}strassen3x3(t){t=f.checkMatrix(t);let e=new f(3,3);const r=this.get(0,0),o=this.get(0,1),n=this.get(0,2),s=this.get(1,0),i=this.get(1,1),u=this.get(1,2),a=this.get(2,0),c=this.get(2,1),h=this.get(2,2),l=t.get(0,0),p=t.get(0,1),g=t.get(0,2),m=t.get(1,0),w=t.get(1,1),b=t.get(1,2),d=t.get(2,0),y=t.get(2,1),v=t.get(2,2),x=(r-s)*(-p+w),M=(-r+s+i)*(l-p+w),_=(s+i)*(-l+p),j=r*l,O=(-r+a+c)*(l-g+b),S=(-r+a)*(g-b),E=(a+c)*(-l+g),R=(-n+c+h)*(w+d-y),A=(n-h)*(w-y),k=n*d,P=(c+h)*(-d+y),V=(-n+i+u)*(b+d-v),I=(n-u)*(b-v),C=(i+u)*(-d+v),T=j+k+o*m,F=(r+o+n-s-i-c-h)*w+M+_+j+R+k+P,q=j+O+E+(r+o+n-i-u-a-c)*b+k+V+C,z=x+i*(-l+p+m-w-b-d+v)+M+j+k+V+I,D=x+M+_+j+u*y,$=k+V+I+C+s*g,N=j+O+S+c*(-l+g+m-w-b-d+y)+R+A+k,U=R+A+k+P+a*p,L=j+O+S+E+h*v;return e.set(0,0,T),e.set(0,1,F),e.set(0,2,q),e.set(1,0,z),e.set(1,1,D),e.set(1,2,$),e.set(2,0,N),e.set(2,1,U),e.set(2,2,L),e}mmulStrassen(t){t=f.checkMatrix(t);let e=this.clone(),r=e.rows,o=e.columns,n=t.rows,s=t.columns;function i(t,e,r){let o=t.rows,n=t.columns;if(o===e&&n===r)return t;{let o=a.zeros(e,r);return o=o.setSubMatrix(t,0,0)}}o!==n&&console.warn(`Multiplying ${r} x ${o} and ${n} x ${s} matrix: dimensions do not match.`);let u=Math.max(r,n),c=Math.max(o,s);return function t(e,r,o,n){if(o<=512||n<=512)return e.mmul(r);o%2===1&&n%2===1?(e=i(e,o+1,n+1),r=i(r,o+1,n+1)):o%2===1?(e=i(e,o+1,n),r=i(r,o+1,n)):n%2===1&&(e=i(e,o,n+1),r=i(r,o,n+1));let s=parseInt(e.rows/2,10),u=parseInt(e.columns/2,10),c=e.subMatrix(0,s-1,0,u-1),f=r.subMatrix(0,s-1,0,u-1),h=e.subMatrix(0,s-1,u,e.columns-1),l=r.subMatrix(0,s-1,u,r.columns-1),p=e.subMatrix(s,e.rows-1,0,u-1),g=r.subMatrix(s,r.rows-1,0,u-1),m=e.subMatrix(s,e.rows-1,u,e.columns-1),w=r.subMatrix(s,r.rows-1,u,r.columns-1),b=t(a.add(c,m),a.add(f,w),s,u),d=t(a.add(p,m),f,s,u),y=t(c,a.sub(l,w),s,u),v=t(m,a.sub(g,f),s,u),x=t(a.add(c,h),w,s,u),M=t(a.sub(p,c),a.add(f,l),s,u),_=t(a.sub(h,m),a.add(g,w),s,u),j=a.add(b,v);j.sub(x),j.add(_);let O=a.add(y,x),S=a.add(d,v),E=a.sub(b,d);E.add(y),E.add(M);let R=a.zeros(2*j.rows,2*j.columns);return(R=(R=(R=(R=R.setSubMatrix(j,0,0)).setSubMatrix(O,j.rows,0)).setSubMatrix(S,0,j.columns)).setSubMatrix(E,j.rows,j.columns)).subMatrix(0,o-1,0,n-1)}(e=i(e,u,c),t=i(t,u,c),u,c)}scaleRows(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new f(this.rows,this.columns);for(let s=0;s<this.rows;s++){const t=this.getRow(s);Object(o.a)(t,{min:e,max:r,output:t}),n.setRow(s,t)}return n}scaleColumns(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new f(this.rows,this.columns);for(let s=0;s<this.columns;s++){const t=this.getColumn(s);Object(o.a)(t,{min:e,max:r,output:t}),n.setColumn(s,t)}return n}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),o=this.get(e,this.columns-1-r);this.set(e,r,o),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),o=this.get(this.rows-1-r,e);this.set(r,e,o),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=f.checkMatrix(t);let e=this.rows,r=this.columns,o=t.rows,n=t.columns,s=new f(e*o,r*n);for(let i=0;i<e;i++)for(let e=0;e<r;e++)for(let r=0;r<o;r++)for(let u=0;u<n;u++)s.set(o*i+r,n*e+u,this.get(i,e)*t.get(r,u));return s}transpose(){let t=new f(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=c){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=c){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,o){Object(n.e)(this,t,e,r,o);let s=new f(e-t+1,o-r+1);for(let n=t;n<=e;n++)for(let e=r;e<=o;e++)s.set(n-t,e-r,this.get(n,e));return s}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let o=new f(t.length,r-e+1);for(let n=0;n<t.length;n++)for(let s=e;s<=r;s++){if(t[n]<0||t[n]>=this.rows)throw new RangeError(`Row index out of range: ${t[n]}`);o.set(n,s-e,this.get(t[n],s))}return o}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let o=new f(r-e+1,t.length);for(let n=0;n<t.length;n++)for(let s=e;s<=r;s++){if(t[n]<0||t[n]>=this.columns)throw new RangeError(`Column index out of range: ${t[n]}`);o.set(s-e,n,this.get(s,t[n]))}return o}setSubMatrix(t,e,r){let o=e+(t=f.checkMatrix(t)).rows-1,s=r+t.columns-1;Object(n.e)(this,e,o,r,s);for(let n=0;n<t.rows;n++)for(let o=0;o<t.columns;o++)this.set(e+n,r+o,t.get(n,o));return this}selection(t,e){let r=Object(n.d)(this,t,e),o=new f(t.length,e.length);for(let n=0;n<r.row.length;n++){let t=r.row[n];for(let e=0;e<r.column.length;e++){let s=r.column[e];o.set(n,e,this.get(t,s))}}return o}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){let t=new f(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}sum(t){switch(t){case"row":return Object(s.o)(this);case"column":return Object(s.n)(this);case void 0:return Object(s.m)(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return Object(s.i)(this);case"column":return Object(s.h)(this);case void 0:return Object(s.g)(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:o=this.mean(t)}=e;if("boolean"!==typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(o))throw new TypeError("mean must be an array");return Object(s.r)(this,r,o);case"column":if(!Array.isArray(o))throw new TypeError("mean must be an array");return Object(s.q)(this,r,o);case void 0:if("number"!==typeof o)throw new TypeError("mean must be a number");return Object(s.p)(this,r,o);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"===typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let o=0;o<r.length;o++)r[o]=Math.sqrt(r[o]);return r}center(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!Array.isArray(r))throw new TypeError("center must be an array");return Object(s.c)(this,r),this;case"column":if(!Array.isArray(r))throw new TypeError("center must be an array");return Object(s.b)(this,r),this;case void 0:if("number"!==typeof r)throw new TypeError("center must be a number");return Object(s.a)(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=Object(s.f)(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Object(s.l)(this,r),this;case"column":if(void 0===r)r=Object(s.e)(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Object(s.k)(this,r),this;case void 0:if(void 0===r)r=Object(s.d)(this);else if("number"!==typeof r)throw new TypeError("scale must be a number");return Object(s.j)(this,r),this;default:throw new Error(`invalid option: ${t}`)}}}function c(t,e){return t-e}e.a=a,a.prototype.klass="Matrix","undefined"!==typeof Symbol&&(a.prototype[Symbol.for("nodejs.util.inspect.custom")]=i.a),a.random=a.rand,a.randomInt=a.randInt,a.diagonal=a.diag,a.prototype.diagonal=a.prototype.diag,a.identity=a.eye,a.prototype.negate=a.prototype.neg,a.prototype.tensorProduct=a.prototype.kroneckerProduct;class f extends a{constructor(t,e){if(super(),f.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(this.data=[],!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if(t=r.length,"number"!==typeof(e=r[0].length)||0===e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<t;o++){if(r[o].length!==e)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(r[o]))}}}return this.rows=t,this.columns=e,this}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){if(Object(n.f)(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),Object(n.f)(this,t,!0),e=Float64Array.from(Object(n.h)(this,e,!0)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){if(Object(n.a)(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let o=0;o<t;o++)r[o]=this.data[e][o];for(let o=t+1;o<this.columns;o++)r[o-1]=this.data[e][o];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),Object(n.a)(this,t,!0),e=Object(n.c)(this,e);for(let r=0;r<this.rows;r++){const o=new Float64Array(this.columns+1);let n=0;for(;n<t;n++)o[n]=this.data[r][n];for(o[n++]=e[r];n<this.columns+1;n++)o[n]=this.data[r][n-1];this.data[r]=o}return this.columns+=1,this}}e.b=f,Object(u.a)(a,f)},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){var o=r(34),n="object"==typeof self&&self&&self.Object===Object&&self,s=o||n||Function("return this")();t.exports=s},function(t,e,r){"use strict";var o=r(0);e.a=class extends o.a{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}},function(t,e,r){"use strict";var o=r(0);e.a=class extends o.a{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}},function(t,e,r){"use strict";function o(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for row indices");if(e.some(e=>e<0||e>=t.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function n(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for column indices");if(e.some(e=>e<0||e>=t.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function s(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}e.f=function(t,e,r){let o=r?t.rows:t.rows-1;if(e<0||e>o)throw new RangeError("Row index out of range")},e.a=function(t,e,r){let o=r?t.columns:t.columns-1;if(e<0||e>o)throw new RangeError("Column index out of range")},e.h=function(t,e){e.to1DArray&&(e=e.to1DArray());if(e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e},e.c=function(t,e){e.to1DArray&&(e=e.to1DArray());if(e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e},e.d=function(t,e,r){return{row:o(t,e),column:n(t,r)}},e.g=o,e.b=n,e.e=function(t,e,r,o,n){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(s("startRow",e),s("endRow",r),s("startColumn",o),s("endColumn",n),e>r||o>n||e<0||e>=t.rows||r<0||r>=t.rows||o<0||o>=t.columns||n<0||n>=t.columns)throw new RangeError("Submatrix indices are out of range")},e.i=function(t,e=0){let r=[];for(let o=0;o<t;o++)r.push(e);return r}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){var o=r(11),n=r(64),s=r(65),i="[object Null]",u="[object Undefined]",a=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?u:i:a&&a in Object(t)?n(t):s(t)}},function(t,e,r){var o=r(89),n=r(92);t.exports=function(t,e){var r=n(t,e);return o(r)?r:void 0}},function(t,e,r){var o=r(39),n=r(23);t.exports=function(t){return null!=t&&n(t.length)&&!o(t)}},function(t,e,r){var o=r(61),n=r(70),s=r(9);t.exports=function(t){return s(t)?o(t):n(t)}},function(t,e,r){var o=r(2).Symbol;t.exports=o},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t,e){for(var r=-1,o=null==t?0:t.length,n=Array(o);++r<o;)n[r]=e(t[r],r,t);return n}},function(t,e,r){var o=r(79),n=r(80),s=r(81),i=r(82),u=r(83);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}a.prototype.clear=o,a.prototype.delete=n,a.prototype.get=s,a.prototype.has=i,a.prototype.set=u,t.exports=a},function(t,e,r){var o=r(43);t.exports=function(t,e){for(var r=t.length;r--;)if(o(t[r][0],e))return r;return-1}},function(t,e,r){var o=r(8)(Object,"create");t.exports=o},function(t,e,r){var o=r(101);t.exports=function(t,e){var r=t.__data__;return o(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e,r){var o=r(7),n=r(6),s="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||n(t)&&o(t)==s}},function(t,e,r){var o=r(18),n=1/0;t.exports=function(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}},function(t,e,r){"use strict";var o=r(0),n=r(4),s=r(30);e.a=class{constructor(t,e={}){let r=(t=n.a.checkMatrix(t)).rows,i=t.columns;const{computeLeftSingularVectors:u=!0,computeRightSingularVectors:a=!0,autoTranspose:c=!1}=e;let f,h=Boolean(u),l=Boolean(a),p=!1;if(r<i)if(c){r=(f=t.transpose()).rows,i=f.columns,p=!0;let e=h;h=l,l=e}else f=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else f=t.clone();let g=Math.min(r,i),m=Math.min(r+1,i),w=new Float64Array(m),b=new o.b(r,g),d=new o.b(i,i),y=new Float64Array(i),v=new Float64Array(r),x=new Float64Array(m);for(let o=0;o<m;o++)x[o]=o;let M=Math.min(r-1,i),_=Math.max(0,Math.min(i-2,r)),j=Math.max(M,_);for(let o=0;o<j;o++){if(o<M){w[o]=0;for(let t=o;t<r;t++)w[o]=Object(s.a)(w[o],f.get(t,o));if(0!==w[o]){f.get(o,o)<0&&(w[o]=-w[o]);for(let t=o;t<r;t++)f.set(t,o,f.get(t,o)/w[o]);f.set(o,o,f.get(o,o)+1)}w[o]=-w[o]}for(let t=o+1;t<i;t++){if(o<M&&0!==w[o]){let e=0;for(let n=o;n<r;n++)e+=f.get(n,o)*f.get(n,t);e=-e/f.get(o,o);for(let n=o;n<r;n++)f.set(n,t,f.get(n,t)+e*f.get(n,o))}y[t]=f.get(o,t)}if(h&&o<M)for(let t=o;t<r;t++)b.set(t,o,f.get(t,o));if(o<_){y[o]=0;for(let t=o+1;t<i;t++)y[o]=Object(s.a)(y[o],y[t]);if(0!==y[o]){y[o+1]<0&&(y[o]=0-y[o]);for(let t=o+1;t<i;t++)y[t]/=y[o];y[o+1]+=1}if(y[o]=-y[o],o+1<r&&0!==y[o]){for(let t=o+1;t<r;t++)v[t]=0;for(let t=o+1;t<r;t++)for(let e=o+1;e<i;e++)v[t]+=y[e]*f.get(t,e);for(let t=o+1;t<i;t++){let e=-y[t]/y[o+1];for(let n=o+1;n<r;n++)f.set(n,t,f.get(n,t)+e*v[n])}}if(l)for(let t=o+1;t<i;t++)d.set(t,o,y[t])}}let O=Math.min(i,r+1);if(M<i&&(w[M]=f.get(M,M)),r<O&&(w[O-1]=0),_+1<O&&(y[_]=f.get(_,O-1)),y[O-1]=0,h){for(let t=M;t<g;t++){for(let e=0;e<r;e++)b.set(e,t,0);b.set(t,t,1)}for(let t=M-1;t>=0;t--)if(0!==w[t]){for(let e=t+1;e<g;e++){let o=0;for(let n=t;n<r;n++)o+=b.get(n,t)*b.get(n,e);o=-o/b.get(t,t);for(let n=t;n<r;n++)b.set(n,e,b.get(n,e)+o*b.get(n,t))}for(let e=t;e<r;e++)b.set(e,t,-b.get(e,t));b.set(t,t,1+b.get(t,t));for(let e=0;e<t-1;e++)b.set(e,t,0)}else{for(let e=0;e<r;e++)b.set(e,t,0);b.set(t,t,1)}}if(l)for(let o=i-1;o>=0;o--){if(o<_&&0!==y[o])for(let t=o+1;t<i;t++){let e=0;for(let r=o+1;r<i;r++)e+=d.get(r,o)*d.get(r,t);e=-e/d.get(o+1,o);for(let r=o+1;r<i;r++)d.set(r,t,d.get(r,t)+e*d.get(r,o))}for(let t=0;t<i;t++)d.set(t,o,0);d.set(o,o,1)}let S=O-1,E=0,R=Number.EPSILON;for(;O>0;){let t,e;for(t=O-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+R*Math.abs(w[t]+Math.abs(w[t+1]));if(Math.abs(y[t])<=e||Number.isNaN(y[t])){y[t]=0;break}}if(t===O-2)e=4;else{let r;for(r=O-1;r>=t&&r!==t;r--){let e=(r!==O?Math.abs(y[r]):0)+(r!==t+1?Math.abs(y[r-1]):0);if(Math.abs(w[r])<=R*e){w[r]=0;break}}r===t?e=3:r===O-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=y[O-2];y[O-2]=0;for(let r=O-2;r>=t;r--){let o=Object(s.a)(w[r],e),n=w[r]/o,u=e/o;if(w[r]=o,r!==t&&(e=-u*y[r-1],y[r-1]=n*y[r-1]),l)for(let t=0;t<i;t++)o=n*d.get(t,r)+u*d.get(t,O-1),d.set(t,O-1,-u*d.get(t,r)+n*d.get(t,O-1)),d.set(t,r,o)}break}case 2:{let e=y[t-1];y[t-1]=0;for(let o=t;o<O;o++){let n=Object(s.a)(w[o],e),i=w[o]/n,u=e/n;if(w[o]=n,e=-u*y[o],y[o]=i*y[o],h)for(let e=0;e<r;e++)n=i*b.get(e,o)+u*b.get(e,t-1),b.set(e,t-1,-u*b.get(e,o)+i*b.get(e,t-1)),b.set(e,o,n)}break}case 3:{const e=Math.max(Math.abs(w[O-1]),Math.abs(w[O-2]),Math.abs(y[O-2]),Math.abs(w[t]),Math.abs(y[t])),o=w[O-1]/e,n=w[O-2]/e,u=y[O-2]/e,a=w[t]/e,c=y[t]/e,f=((n+o)*(n-o)+u*u)/2,p=o*u*(o*u);let g=0;0===f&&0===p||(g=p/(f+(g=f<0?0-Math.sqrt(f*f+p):Math.sqrt(f*f+p))));let m=(a+o)*(a-o)+g,v=a*c;for(let x=t;x<O-1;x++){let e=Object(s.a)(m,v);0===e&&(e=Number.MIN_VALUE);let o=m/e,n=v/e;if(x!==t&&(y[x-1]=e),m=o*w[x]+n*y[x],y[x]=o*y[x]-n*w[x],v=n*w[x+1],w[x+1]=o*w[x+1],l)for(let t=0;t<i;t++)e=o*d.get(t,x)+n*d.get(t,x+1),d.set(t,x+1,-n*d.get(t,x)+o*d.get(t,x+1)),d.set(t,x,e);if(0===(e=Object(s.a)(m,v))&&(e=Number.MIN_VALUE),o=m/e,n=v/e,w[x]=e,m=o*y[x]+n*w[x+1],w[x+1]=-n*y[x]+o*w[x+1],v=n*y[x+1],y[x+1]=o*y[x+1],h&&x<r-1)for(let t=0;t<r;t++)e=o*b.get(t,x)+n*b.get(t,x+1),b.set(t,x+1,-n*b.get(t,x)+o*b.get(t,x+1)),b.set(t,x,e)}y[O-2]=m,E+=1;break}case 4:if(w[t]<=0&&(w[t]=w[t]<0?-w[t]:0,l))for(let e=0;e<=S;e++)d.set(e,t,-d.get(e,t));for(;t<S&&!(w[t]>=w[t+1]);){let e=w[t];if(w[t]=w[t+1],w[t+1]=e,l&&t<i-1)for(let r=0;r<i;r++)e=d.get(r,t+1),d.set(r,t+1,d.get(r,t)),d.set(r,t,e);if(h&&t<r-1)for(let o=0;o<r;o++)e=b.get(o,t+1),b.set(o,t+1,b.get(o,t)),b.set(o,t,e);t++}E=0,O--}}if(p){let t=d;d=b,b=t}this.m=r,this.n=i,this.s=w,this.U=b,this.V=d}solve(t){let e=t,r=this.threshold,n=this.s.length,s=o.b.zeros(n,n);for(let o=0;o<n;o++)Math.abs(this.s[o])<=r?s.set(o,o,0):s.set(o,o,1/this.s[o]);let i=this.U,u=this.rightSingularVectors,a=u.mmul(s),c=u.rows,f=i.rows,h=o.b.zeros(c,f);for(let o=0;o<c;o++)for(let t=0;t<f;t++){let e=0;for(let r=0;r<n;r++)e+=a.get(o,r)*i.get(t,r);h.set(o,t,e)}return h.mmul(e)}solveForDiagonal(t){return this.solve(o.b.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,n=t.columns,s=new o.b(r,this.s.length);for(let o=0;o<r;o++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e&&s.set(o,r,t.get(o,r)/this.s[r]);let i=this.U,u=i.rows,a=i.columns,c=new o.b(r,u);for(let o=0;o<r;o++)for(let t=0;t<u;t++){let e=0;for(let r=0;r<a;r++)e+=s.get(o,r)*i.get(t,r);c.set(o,t,e)}return c}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let o=0,n=r.length;o<n;o++)r[o]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return o.b.diag(this.s)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r.d(e,"__assign",function(){return n}),e.__rest=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]]);return r},e.__decorate=function(t,e,r,o){var n,s=arguments.length,i=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,o);else for(var u=t.length-1;u>=0;u--)(n=t[u])&&(i=(s<3?n(i):s>3?n(e,r,i):n(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},e.__param=function(t,e){return function(r,o){e(r,o,t)}},e.__metadata=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,r,o){return new(r||(r=Promise))(function(n,s){function i(t){try{a(o.next(t))}catch(t){s(t)}}function u(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){t.done?n(t.value):new r(function(e){e(t.value)}).then(i,u)}a((o=o.apply(t,e||[])).next())})},e.__generator=function(t,e){var r,o,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,o&&(n=2&s[0]?o.return:s[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){i.label=s[1];break}if(6===s[0]&&i.label<n[1]){i.label=n[1],n=s;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(s);break}n[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],o=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},e.__exportStar=function(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])},e.__values=s,e.__read=i,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},e.__spreadArrays=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var o=Array(t),n=0,e=0;e<r;e++)for(var s=arguments[e],i=0,u=s.length;i<u;i++,n++)o[n]=s[i];return o},e.__await=u,e.__asyncGenerator=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(t,e||[]),s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(t){n[t]&&(o[t]=function(e){return new Promise(function(r,o){s.push([t,e,r,o])>1||a(t,e)})})}function a(t,e){try{!function(t){t.value instanceof u?Promise.resolve(t.value.v).then(c,f):h(s[0][2],t)}(n[t](e))}catch(t){h(s[0][3],t)}}function c(t){a("next",t)}function f(t){a("throw",t)}function h(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}},e.__asyncDelegator=function(t){var e,r;return e={},o("next"),o("throw",function(t){throw t}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(o,n){e[o]=t[o]?function(e){return(r=!r)?{value:u(t[o](e)),done:"return"===o}:n?n(e):e}:n}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=s(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(r){e[r]=t[r]&&function(e){return new Promise(function(o,n){e=t[r](e),function(t,e,r,o){Promise.resolve(o).then(function(e){t({value:e,done:r})},e)}(o,n,e.done,e.value)})}}},e.__makeTemplateObject=function(t,e){Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e;return t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var n=function(){return(n=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function s(t){var e="function"===typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function i(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var o,n,s=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(o=s.next()).done;)i.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function u(t){return this instanceof u?(this.v=t,this):new u(t)}},function(t,e,r){var o=r(58),n=r(74)(o);t.exports=n},function(t,e){var r=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,e,r){var o=r(8)(r(2),"Map");t.exports=o},function(t,e,r){var o=r(93),n=r(100),s=r(102),i=r(103),u=r(104);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}a.prototype.clear=o,a.prototype.delete=n,a.prototype.get=s,a.prototype.has=i,a.prototype.set=u,t.exports=a},function(t,e){t.exports=function(t,e){for(var r=-1,o=null==t?0:t.length,n=0,s=[];++r<o;){var i=t[r];e(i,r,t)&&(s[n++]=i)}return s}},function(t,e,r){var o=r(1),n=r(18),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!n(t))||i.test(t)||!s.test(t)||null!=e&&t in Object(e)}},function(t,e,r){"use strict";const o=Object.prototype.toString;t.exports=function(t){return o.call(t).endsWith("Array]")}},function(t,e,r){"use strict";var o=r(0),n=r(4);e.a=class{constructor(t){let e,r,o,s,i,u,a,c,f,h=(t=n.a.checkMatrix(t)).clone(),l=h.rows,p=h.columns,g=new Float64Array(l),m=1;for(e=0;e<l;e++)g[e]=e;for(c=new Float64Array(l),r=0;r<p;r++){for(e=0;e<l;e++)c[e]=h.get(e,r);for(e=0;e<l;e++){for(f=Math.min(e,r),i=0,o=0;o<f;o++)i+=h.get(e,o)*c[o];c[e]-=i,h.set(e,r,c[e])}for(s=r,e=r+1;e<l;e++)Math.abs(c[e])>Math.abs(c[s])&&(s=e);if(s!==r){for(o=0;o<p;o++)u=h.get(s,o),h.set(s,o,h.get(r,o)),h.set(r,o,u);a=g[s],g[s]=g[r],g[r]=a,m=-m}if(r<l&&0!==h.get(r,r))for(e=r+1;e<l;e++)h.set(e,r,h.get(e,r)/h.get(r,r))}this.LU=h,this.pivotVector=g,this.pivotSign=m}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=o.b.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,n,s,i=t.columns,u=t.subMatrixRow(this.pivotVector,0,i-1),a=e.columns;for(s=0;s<a;s++)for(r=s+1;r<a;r++)for(n=0;n<i;n++)u.set(r,n,u.get(r,n)-u.get(s,n)*e.get(r,s));for(s=a-1;s>=0;s--){for(n=0;n<i;n++)u.set(s,n,u.get(s,n)/e.get(s,s));for(r=0;r<s;r++)for(n=0;n<i;n++)u.set(r,n,u.get(r,n)-u.get(s,n)*e.get(r,s))}return u}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let o=0;o<r;o++)e*=t.get(o,o);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new o.b(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o>e?n.set(o,e,t.get(o,e)):o===e?n.set(o,e,1):n.set(o,e,0);return n}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new o.b(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o<=e?n.set(o,e,t.get(o,e)):n.set(o,e,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}},function(t,e,r){"use strict";e.a=function(t,e){let r=0;if(Math.abs(t)>Math.abs(e))return r=e/t,Math.abs(t)*Math.sqrt(1+r*r);if(0!==e)return r=t/e,Math.abs(e)*Math.sqrt(1+r*r);return 0}},function(t,e,r){var o=r(57),n=r(22),s=r(75),i=r(1);t.exports=function(t,e){return(i(t)?o:n)(t,s(e))}},function(t,e){t.exports=function(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}},function(t,e,r){var o=r(62),n=r(6),s=Object.prototype,i=s.hasOwnProperty,u=s.propertyIsEnumerable,a=o(function(){return arguments}())?o:function(t){return n(t)&&i.call(t,"callee")&&!u.call(t,"callee")};t.exports=a},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(e,r(63))},function(t,e,r){(function(t){var o=r(2),n=r(66),s="object"==typeof e&&e&&!e.nodeType&&e,i=s&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===s?o.Buffer:void 0,a=(u?u.isBuffer:void 0)||n;t.exports=a}).call(e,r(36)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){var o=r(67),n=r(68),s=r(69),i=s&&s.isTypedArray,u=i?n(i):o;t.exports=u},function(t,e,r){var o=r(7),n=r(12),s="[object AsyncFunction]",i="[object Function]",u="[object GeneratorFunction]",a="[object Proxy]";t.exports=function(t){if(!n(t))return!1;var e=o(t);return e==i||e==u||e==s||e==a}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var o=r(77),n=r(127),s=r(40),i=r(1),u=r(137);t.exports=function(t){return"function"==typeof t?t:null==t?s:"object"==typeof t?i(t)?n(t[0],t[1]):o(t):u(t)}},function(t,e,r){var o=r(14),n=r(84),s=r(85),i=r(86),u=r(87),a=r(88);function c(t){var e=this.__data__=new o(t);this.size=e.size}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){var o=r(105),n=r(6);t.exports=function t(e,r,s,i,u){return e===r||(null==e||null==r||!n(e)&&!n(r)?e!==e&&r!==r:o(e,r,s,i,t,u))}},function(t,e,r){var o=r(106),n=r(109),s=r(110),i=1,u=2;t.exports=function(t,e,r,a,c,f){var h=r&i,l=t.length,p=e.length;if(l!=p&&!(h&&p>l))return!1;var g=f.get(t);if(g&&f.get(e))return g==e;var m=-1,w=!0,b=r&u?new o:void 0;for(f.set(t,e),f.set(e,t);++m<l;){var d=t[m],y=e[m];if(a)var v=h?a(y,d,m,e,t,f):a(d,y,m,t,e,f);if(void 0!==v){if(v)continue;w=!1;break}if(b){if(!n(e,function(t,e){if(!s(b,e)&&(d===t||c(d,t,r,a,f)))return b.push(e)})){w=!1;break}}else if(d!==y&&!c(d,y,r,a,f)){w=!1;break}}return f.delete(t),f.delete(e),w}},function(t,e,r){var o=r(12);t.exports=function(t){return t===t&&!o(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},function(t,e,r){var o=r(50),n=r(19);t.exports=function(t,e){for(var r=0,s=(e=o(e,t)).length;null!=t&&r<s;)t=t[n(e[r++])];return r&&r==s?t:void 0}},function(t,e,r){var o=r(1),n=r(27),s=r(129),i=r(132);t.exports=function(t,e){return o(t)?t:n(t,e)?[t]:s(i(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){var o=r(7),n=r(1),s=r(6),i="[object String]";t.exports=function(t){return"string"==typeof t||!n(t)&&s(t)&&o(t)==i}},function(t,e,r){"use strict";var o=r(5),n=r(3);e.a=class extends n.a{constructor(t,e,r){let n=Object(o.d)(t,e,r);super(t,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}},function(t,e,r){"use strict";var o=r(0);e.a=class extends o.a{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let o=this._calculateIndex(t,e);return this.data[o]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}},function(t,e,r){"use strict";var o=r(0),n=r(4),s=r(30);e.a=class{constructor(t){let e,r,o,i,u=(t=n.a.checkMatrix(t)).clone(),a=t.rows,c=t.columns,f=new Float64Array(c);for(o=0;o<c;o++){let t=0;for(e=o;e<a;e++)t=Object(s.a)(t,u.get(e,o));if(0!==t){for(u.get(o,o)<0&&(t=-t),e=o;e<a;e++)u.set(e,o,u.get(e,o)/t);for(u.set(o,o,u.get(o,o)+1),r=o+1;r<c;r++){for(i=0,e=o;e<a;e++)i+=u.get(e,o)*u.get(e,r);for(i=-i/u.get(o,o),e=o;e<a;e++)u.set(e,r,u.get(e,r)+i*u.get(e,o))}}f[o]=-t}this.QR=u,this.Rdiag=f}solve(t){t=o.b.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n,s,i,u,a=t.columns,c=t.clone(),f=e.columns;for(i=0;i<f;i++)for(s=0;s<a;s++){for(u=0,n=i;n<r;n++)u+=e.get(n,i)*c.get(n,s);for(u=-u/e.get(i,i),n=i;n<r;n++)c.set(n,s,c.get(n,s)+u*e.get(n,i))}for(i=f-1;i>=0;i--){for(s=0;s<a;s++)c.set(i,s,c.get(i,s)/this.Rdiag[i]);for(n=0;n<i;n++)for(s=0;s<a;s++)c.set(n,s,c.get(n,s)-c.get(i,s)*e.get(n,i))}return c.subMatrix(0,f-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,n=r.columns,s=new o.b(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?s.set(t,e,r.get(t,e)):t===e?s.set(t,e,this.Rdiag[t]):s.set(t,e,0);return s}get orthogonalMatrix(){let t,e,r,n,s=this.QR,i=s.rows,u=s.columns,a=new o.b(i,u);for(r=u-1;r>=0;r--){for(t=0;t<i;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<u;e++)if(0!==s.get(r,r)){for(n=0,t=r;t<i;t++)n+=s.get(t,r)*a.get(t,e);for(n=-n/s.get(r,r),t=r;t<i;t++)a.set(t,e,a.get(t,e)+n*s.get(t,r))}}return a}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(21),n=o.__importDefault(r(31)),s=o.__importDefault(r(76)),i=o.__importDefault(r(140)),u=r(142),a=r(161),c=self;c.addEventListener("message",function(t){var e=t.data,r=e.datasetRequiredColumnsIdxs,o=e.parsedFile;try{var f=new u.Dataset(o,r),h=i.default(f.values),l=new a.PCA(h,{scale:!0,center:!0}),p=s.default(f.values,function(t,e){return s.default(t,function(t){return(t-l.means[e])/l.stdevs[e]})}),g=l.getExplainedVariance(),m=l.getCumulativeVariance(),w=l.getLoadings(),b=l.predict(h),d=l.getEigenvalues(),y=s.default(d,function(t,e){return"PC"+ ++e}),v=[];n.default(d,function(t,e){t>=1&&(v[e]=y[e])}),c.postMessage({dataset:f,adjustedDataset:p,explainedVariance:g,cumulativeVariance:m,loadings:w.to2DArray(),predictions:i.default(b.to2DArray()),eigenvalues:d,components:y,importantComponents:v})}catch(t){c.postMessage({error:t.message})}},!1)},function(t,e){t.exports=function(t,e){for(var r=-1,o=null==t?0:t.length;++r<o&&!1!==e(t[r],r,t););return t}},function(t,e,r){var o=r(59),n=r(10);t.exports=function(t,e){return t&&o(t,e,n)}},function(t,e,r){var o=r(60)();t.exports=o},function(t,e){t.exports=function(t){return function(e,r,o){for(var n=-1,s=Object(e),i=o(e),u=i.length;u--;){var a=i[t?u:++n];if(!1===r(s[a],a,s))break}return e}}},function(t,e,r){var o=r(32),n=r(33),s=r(1),i=r(35),u=r(37),a=r(38),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=s(t),f=!r&&n(t),h=!r&&!f&&i(t),l=!r&&!f&&!h&&a(t),p=r||f||h||l,g=p?o(t.length,String):[],m=g.length;for(var w in t)!e&&!c.call(t,w)||p&&("length"==w||h&&("offset"==w||"parent"==w)||l&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||u(w,m))||g.push(w);return g}},function(t,e,r){var o=r(7),n=r(6),s="[object Arguments]";t.exports=function(t){return n(t)&&o(t)==s}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(r=window)}t.exports=r},function(t,e,r){var o=r(11),n=Object.prototype,s=n.hasOwnProperty,i=n.toString,u=o?o.toStringTag:void 0;t.exports=function(t){var e=s.call(t,u),r=t[u];try{t[u]=void 0;var o=!0}catch(t){}var n=i.call(t);return o&&(e?t[u]=r:delete t[u]),n}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var o=r(7),n=r(23),s=r(6),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return s(t)&&n(t.length)&&!!i[o(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var o=r(34),n="object"==typeof e&&e&&!e.nodeType&&e,s=n&&"object"==typeof t&&t&&!t.nodeType&&t,i=s&&s.exports===n&&o.process,u=function(){try{var t=s&&s.require&&s.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u}).call(e,r(36)(t))},function(t,e,r){var o=r(71),n=r(72),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return n(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){var o=r(73)(Object.keys,Object);t.exports=o},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){var o=r(9);t.exports=function(t,e){return function(r,n){if(null==r)return r;if(!o(r))return t(r,n);for(var s=r.length,i=e?s:-1,u=Object(r);(e?i--:++i<s)&&!1!==n(u[i],i,u););return r}}},function(t,e,r){var o=r(40);t.exports=function(t){return"function"==typeof t?t:o}},function(t,e,r){var o=r(13),n=r(41),s=r(139),i=r(1);t.exports=function(t,e){return(i(t)?o:s)(t,n(e,3))}},function(t,e,r){var o=r(78),n=r(126),s=r(48);t.exports=function(t){var e=n(t);return 1==e.length&&e[0][2]?s(e[0][0],e[0][1]):function(r){return r===t||o(r,t,e)}}},function(t,e,r){var o=r(42),n=r(45),s=1,i=2;t.exports=function(t,e,r,u){var a=r.length,c=a,f=!u;if(null==t)return!c;for(t=Object(t);a--;){var h=r[a];if(f&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<c;){var l=(h=r[a])[0],p=t[l],g=h[1];if(f&&h[2]){if(void 0===p&&!(l in t))return!1}else{var m=new o;if(u)var w=u(p,g,l,t,e,m);if(!(void 0===w?n(g,p,s|i,u,m):w))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var o=r(15),n=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=o(e,t);return!(r<0)&&(r==e.length-1?e.pop():n.call(e,r,1),--this.size,!0)}},function(t,e,r){var o=r(15);t.exports=function(t){var e=this.__data__,r=o(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var o=r(15);t.exports=function(t){return o(this.__data__,t)>-1}},function(t,e,r){var o=r(15);t.exports=function(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}},function(t,e,r){var o=r(14);t.exports=function(){this.__data__=new o,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var o=r(14),n=r(24),s=r(25),i=200;t.exports=function(t,e){var r=this.__data__;if(r instanceof o){var u=r.__data__;if(!n||u.length<i-1)return u.push([t,e]),this.size=++r.size,this;r=this.__data__=new s(u)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var o=r(39),n=r(90),s=r(12),i=r(44),u=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,f=a.toString,h=c.hasOwnProperty,l=RegExp("^"+f.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||n(t))&&(o(t)?l:u).test(i(t))}},function(t,e,r){var o=r(91),n=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!n&&n in t}},function(t,e,r){var o=r(2)["__core-js_shared__"];t.exports=o},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,r){var o=r(94),n=r(14),s=r(24);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(s||n),string:new o}}},function(t,e,r){var o=r(95),n=r(96),s=r(97),i=r(98),u=r(99);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}a.prototype.clear=o,a.prototype.delete=n,a.prototype.get=s,a.prototype.has=i,a.prototype.set=u,t.exports=a},function(t,e,r){var o=r(16);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var o=r(16),n="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var r=e[t];return r===n?void 0:r}return s.call(e,t)?e[t]:void 0}},function(t,e,r){var o=r(16),n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:n.call(e,t)}},function(t,e,r){var o=r(16),n="__lodash_hash_undefined__";t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=o&&void 0===e?n:e,this}},function(t,e,r){var o=r(17);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var o=r(17);t.exports=function(t){return o(this,t).get(t)}},function(t,e,r){var o=r(17);t.exports=function(t){return o(this,t).has(t)}},function(t,e,r){var o=r(17);t.exports=function(t,e){var r=o(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}},function(t,e,r){var o=r(42),n=r(46),s=r(111),i=r(115),u=r(121),a=r(1),c=r(35),f=r(38),h=1,l="[object Arguments]",p="[object Array]",g="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,w,b,d){var y=a(t),v=a(e),x=y?p:u(t),M=v?p:u(e),_=(x=x==l?g:x)==g,j=(M=M==l?g:M)==g,O=x==M;if(O&&c(t)){if(!c(e))return!1;y=!0,_=!1}if(O&&!_)return d||(d=new o),y||f(t)?n(t,e,r,w,b,d):s(t,e,x,r,w,b,d);if(!(r&h)){var S=_&&m.call(t,"__wrapped__"),E=j&&m.call(e,"__wrapped__");if(S||E){var R=S?t.value():t,A=E?e.value():e;return d||(d=new o),b(R,A,r,w,d)}}return!!O&&(d||(d=new o),i(t,e,r,w,b,d))}},function(t,e,r){var o=r(25),n=r(107),s=r(108);function i(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new o;++e<r;)this.add(t[e])}i.prototype.add=i.prototype.push=n,i.prototype.has=s,t.exports=i},function(t,e){var r="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,r),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,o=null==t?0:t.length;++r<o;)if(e(t[r],r,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var o=r(11),n=r(112),s=r(43),i=r(46),u=r(113),a=r(114),c=1,f=2,h="[object Boolean]",l="[object Date]",p="[object Error]",g="[object Map]",m="[object Number]",w="[object RegExp]",b="[object Set]",d="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",x="[object DataView]",M=o?o.prototype:void 0,_=M?M.valueOf:void 0;t.exports=function(t,e,r,o,M,j,O){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v:return!(t.byteLength!=e.byteLength||!j(new n(t),new n(e)));case h:case l:case m:return s(+t,+e);case p:return t.name==e.name&&t.message==e.message;case w:case d:return t==e+"";case g:var S=u;case b:var E=o&c;if(S||(S=a),t.size!=e.size&&!E)return!1;var R=O.get(t);if(R)return R==e;o|=f,O.set(t,e);var A=i(S(t),S(e),o,M,j,O);return O.delete(t),A;case y:if(_)return _.call(t)==_.call(e)}return!1}},function(t,e,r){var o=r(2).Uint8Array;t.exports=o},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,o){r[++e]=[o,t]}),r}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},function(t,e,r){var o=r(116),n=1,s=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,u,a){var c=r&n,f=o(t),h=f.length;if(h!=o(e).length&&!c)return!1;for(var l=h;l--;){var p=f[l];if(!(c?p in e:s.call(e,p)))return!1}var g=a.get(t);if(g&&a.get(e))return g==e;var m=!0;a.set(t,e),a.set(e,t);for(var w=c;++l<h;){var b=t[p=f[l]],d=e[p];if(i)var y=c?i(d,b,p,e,t,a):i(b,d,p,t,e,a);if(!(void 0===y?b===d||u(b,d,r,i,a):y)){m=!1;break}w||(w="constructor"==p)}if(m&&!w){var v=t.constructor,x=e.constructor;v!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof x&&x instanceof x)&&(m=!1)}return a.delete(t),a.delete(e),m}},function(t,e,r){var o=r(117),n=r(119),s=r(10);t.exports=function(t){return o(t,s,n)}},function(t,e,r){var o=r(118),n=r(1);t.exports=function(t,e,r){var s=e(t);return n(t)?s:o(s,r(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,o=e.length,n=t.length;++r<o;)t[n+r]=e[r];return t}},function(t,e,r){var o=r(26),n=r(120),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,u=i?function(t){return null==t?[]:(t=Object(t),o(i(t),function(e){return s.call(t,e)}))}:n;t.exports=u},function(t,e){t.exports=function(){return[]}},function(t,e,r){var o=r(122),n=r(24),s=r(123),i=r(124),u=r(125),a=r(7),c=r(44),f=c(o),h=c(n),l=c(s),p=c(i),g=c(u),m=a;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||n&&"[object Map]"!=m(new n)||s&&"[object Promise]"!=m(s.resolve())||i&&"[object Set]"!=m(new i)||u&&"[object WeakMap]"!=m(new u))&&(m=function(t){var e=a(t),r="[object Object]"==e?t.constructor:void 0,o=r?c(r):"";if(o)switch(o){case f:return"[object DataView]";case h:return"[object Map]";case l:return"[object Promise]";case p:return"[object Set]";case g:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,r){var o=r(8)(r(2),"DataView");t.exports=o},function(t,e,r){var o=r(8)(r(2),"Promise");t.exports=o},function(t,e,r){var o=r(8)(r(2),"Set");t.exports=o},function(t,e,r){var o=r(8)(r(2),"WeakMap");t.exports=o},function(t,e,r){var o=r(47),n=r(10);t.exports=function(t){for(var e=n(t),r=e.length;r--;){var s=e[r],i=t[s];e[r]=[s,i,o(i)]}return e}},function(t,e,r){var o=r(45),n=r(128),s=r(134),i=r(27),u=r(47),a=r(48),c=r(19),f=1,h=2;t.exports=function(t,e){return i(t)&&u(e)?a(c(t),e):function(r){var i=n(r,t);return void 0===i&&i===e?s(r,t):o(e,i,f|h)}}},function(t,e,r){var o=r(49);t.exports=function(t,e,r){var n=null==t?void 0:o(t,e);return void 0===n?r:n}},function(t,e,r){var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,s=r(130)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,r,o,s){e.push(o?s.replace(n,"$1"):r||t)}),e});t.exports=s},function(t,e,r){var o=r(131),n=500;t.exports=function(t){var e=o(t,function(t){return r.size===n&&r.clear(),t}),r=e.cache;return e}},function(t,e,r){var o=r(25),n="Expected a function";function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var o=arguments,n=e?e.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var i=t.apply(this,o);return r.cache=s.set(n,i)||s,i};return r.cache=new(s.Cache||o),r}s.Cache=o,t.exports=s},function(t,e,r){var o=r(133);t.exports=function(t){return null==t?"":o(t)}},function(t,e,r){var o=r(11),n=r(13),s=r(1),i=r(18),u=1/0,a=o?o.prototype:void 0,c=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(s(e))return n(e,t)+"";if(i(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-u?"-0":r}},function(t,e,r){var o=r(135),n=r(136);t.exports=function(t,e){return null!=t&&n(t,e,o)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var o=r(50),n=r(33),s=r(1),i=r(37),u=r(23),a=r(19);t.exports=function(t,e,r){for(var c=-1,f=(e=o(e,t)).length,h=!1;++c<f;){var l=a(e[c]);if(!(h=null!=t&&r(t,l)))break;t=t[l]}return h||++c!=f?h:!!(f=null==t?0:t.length)&&u(f)&&i(l,f)&&(s(t)||n(t))}},function(t,e,r){var o=r(51),n=r(138),s=r(27),i=r(19);t.exports=function(t){return s(t)?o(i(t)):n(t)}},function(t,e,r){var o=r(49);t.exports=function(t){return function(e){return o(e,t)}}},function(t,e,r){var o=r(22),n=r(9);t.exports=function(t,e){var r=-1,s=n(t)?Array(t.length):[];return o(t,function(t,o,n){s[++r]=e(t,o,n)}),s}},function(t,e,r){var o=r(26),n=r(13),s=r(51),i=r(32),u=r(141),a=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=o(t,function(t){if(u(t))return e=a(t.length,e),!0}),i(e,function(e){return n(t,s(e))})}},function(t,e,r){var o=r(9),n=r(6);t.exports=function(t){return n(t)&&o(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(21);o.__exportStar(r(143),e),o.__exportStar(r(144),e),o.__exportStar(r(145),e),o.__exportStar(r(160),e)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(21),n=o.__importDefault(r(146)),s=o.__importDefault(r(147)),i=o.__importDefault(r(157)),u=o.__importDefault(r(52)),a=o.__importDefault(r(31)),c=o.__importDefault(r(158)),f=function(){function t(t,e){void 0===t&&(t={rows:[],columns:[]}),void 0===e&&(e={observationsIdx:0,typesIdx:void 0}),this.parsedFile=t,this.options=e,this.variables=[],this.factors=[],this.observations=[],this.values=[],this.minFactorsCount=2,this.minObservationsCount=2,this.handle()}return Object.defineProperty(t.prototype,"requiredVariablesCount",{get:function(){return n.default(this.options.typesIdx)?1:2},enumerable:!0,configurable:!0}),t.prototype.handle=function(){var t=this,e=this.parsedFile,r=e.columns,o=e.rows,f=this.options,h=f.observationsIdx,l=f.typesIdx;if(this.requiredVariablesCount+this.minFactorsCount>r.length)throw new Error("pages.docs.importantInfoPart1");a.default(r,function(t,e){if(i.default(t))throw new Error("errors.isInvalidDatasetValue")}),this.variables=r,this.factors=c.default(r,function(t,e){return!s.default([h,l],e)}),a.default(o,function(e,r){if(t.minObservationsCount>e.length)throw new Error("pages.docs.importantInfoPart2");a.default(e,function(t,e){if(i.default(t))throw new Error("errors.isInvalidDatasetValue");if(r!==h&&r!==l&&u.default(t))throw new Error("errors.isInvalidDatasetValue")}),n.default(l)||r!==l||(t.types=e),r===h&&(t.observations=e),r!==h&&r!==l&&t.values.push(e)})},t}();e.Dataset=f},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,r){var o=r(148),n=r(9),s=r(52),i=r(152),u=r(155),a=Math.max;t.exports=function(t,e,r,c){t=n(t)?t:u(t),r=r&&!c?i(r):0;var f=t.length;return r<0&&(r=a(f+r,0)),s(t)?r<=f&&t.indexOf(e,r)>-1:!!f&&o(t,e,r)>-1}},function(t,e,r){var o=r(149),n=r(150),s=r(151);t.exports=function(t,e,r){return e===e?s(t,e,r):o(t,n,r)}},function(t,e){t.exports=function(t,e,r,o){for(var n=t.length,s=r+(o?1:-1);o?s--:++s<n;)if(e(t[s],s,t))return s;return-1}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,r){for(var o=r-1,n=t.length;++o<n;)if(t[o]===e)return o;return-1}},function(t,e,r){var o=r(153);t.exports=function(t){var e=o(t),r=e%1;return e===e?r?e-r:e:0}},function(t,e,r){var o=r(154),n=1/0,s=1.7976931348623157e308;t.exports=function(t){return t?(t=o(t))===n||t===-n?(t<0?-1:1)*s:t===t?t:0:0===t?t:0}},function(t,e,r){var o=r(12),n=r(18),s=NaN,i=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(n(t))return s;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=a.test(t);return r||c.test(t)?f(t.slice(2),r?2:8):u.test(t)?s:+t}},function(t,e,r){var o=r(156),n=r(10);t.exports=function(t){return null==t?[]:o(t,n(t))}},function(t,e,r){var o=r(13);t.exports=function(t,e){return o(e,function(e){return t[e]})}},function(t,e){t.exports=function(t){return null===t}},function(t,e,r){var o=r(26),n=r(159),s=r(41),i=r(1);t.exports=function(t,e){return(i(t)?o:n)(t,s(e,3))}},function(t,e,r){var o=r(22);t.exports=function(t,e){var r=[];return o(t,function(t,o,n){e(t,o,n)&&r.push(t)}),r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(162);class n{constructor(t,e={}){if(!0===t){const t=e;return this.center=t.center,this.scale=t.scale,this.means=t.means,this.stdevs=t.stdevs,this.U=o.b.checkMatrix(t.U),this.S=t.S,this.R=t.R,void(this.excludedFeatures=t.excludedFeatures||[])}t=new o.b(t);const{isCovarianceMatrix:r=!1,method:n="SVD",nCompNIPALS:s=2,center:i=!0,scale:u=!1,ignoreZeroVariance:a=!1}=e;if(this.center=i,this.scale=u,this.means=null,this.stdevs=null,this.excludedFeatures=[],r)this._computeFromCovarianceMatrix(t);else switch(this._adjust(t,a),n){case"covarianceMatrix":{const e=new o.c(t).mmul(t).div(t.rows-1);this._computeFromCovarianceMatrix(e);break}case"NIPALS":this._computeWithNIPALS(t,s);break;case"SVD":{const e=new o.e(t,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=e.rightSingularVectors;const r=e.diagonal,n=[];for(const o of r)n.push(o*o/(t.rows-1));this.S=n;break}default:throw new Error(`unknown method: ${n}`)}}static load(t){if("string"!==typeof t.name)throw new TypeError("model must have a name property");if("PCA"!==t.name)throw new RangeError(`invalid model: ${t.name}`);return new n(!0,t)}predict(t,e={}){const{nComponents:r=this.U.columns}=e;if(t=new o.b(t),this.center&&(t.subRowVector(this.means),this.scale)){for(let e of this.excludedFeatures)t.removeColumn(e);t.divRowVector(this.stdevs)}var n=t.mmul(this.U);return n.subMatrix(0,n.rows-1,0,r-1)}invert(t){var e=(t=o.b.checkMatrix(t)).mmul(this.U.transpose());return this.center&&(this.scale&&e.mulRowVector(this.stdevs),e.addRowVector(this.means)),e}getExplainedVariance(){var t=0;for(const e of this.S)t+=e;return this.S.map(e=>e/t)}getCumulativeVariance(){for(var t=this.getExplainedVariance(),e=1;e<t.length;e++)t[e]+=t[e-1];return t}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map(t=>Math.sqrt(t))}getLoadings(){return this.U.transpose()}toJSON(){return{name:"PCA",center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S,excludedFeatures:this.excludedFeatures}}_adjust(t,e){if(this.center){const r=t.mean("column"),o=this.scale?t.standardDeviation("column",{mean:r}):null;if(this.means=r,t.subRowVector(r),this.scale){for(let r=0;r<o.length;r++)if(0===o[r]){if(!e)throw new RangeError(`Cannot scale the dataset (standard deviation is zero at index ${r}`);t.removeColumn(r),o.splice(r,1),this.excludedFeatures.push(r),r--}this.stdevs=o,t.divRowVector(o)}}}_computeFromCovarianceMatrix(t){const e=new o.a(t,{assumeSymmetric:!0});this.U=e.eigenvectorMatrix,this.U.flipRows(),this.S=e.realEigenvalues,this.S.reverse()}_computeWithNIPALS(t,e){this.U=new o.b(e,t.columns),this.S=[];let r=t;for(let n=0;n<e;n++){let t=new o.d(r);this.U.setRow(n,t.w.transpose()),this.S.push(Math.pow(t.s.get(0,0),2)),r=t.xResidual}this.U=this.U.transpose()}}e.PCA=n},function(t,e,r){"use strict";var o=r(0);r.d(e,"b",function(){return o.b});var n=r(169);r.d(e,"c",function(){return n.a});r(178),r(54),r(4),r(179),r(180),r(181),r(182),r(183),r(184);var s=r(20);r.d(e,"e",function(){return s.a});var i=r(185);r.d(e,"a",function(){return i.a});r(186),r(29),r(55);var u=r(187);r.d(e,"d",function(){return u.a})},function(t,e,r){"use strict";var o=r(164),n=r(165),s=r(28),i=r.n(s);e.a=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!i()(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var s=Object(n.a)(t),u=Object(o.a)(t);if(s===u)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,c=void 0===a?r.autoMinMax?s:0:a,f=r.max,h=void 0===f?r.autoMinMax?u:1:f;if(c>=h)throw new RangeError("min option must be smaller than max option");for(var l=(h-c)/(u-s),p=0;p<t.length;p++)e[p]=(t[p]-s)*l+c;return e}},function(t,e,r){"use strict";var o=r(28),n=r.n(o);e.a=function(t){if(!n()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e}},function(t,e,r){"use strict";var o=r(28),n=r.n(o);e.a=function(t){if(!n()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e}},function(t,e,r){"use strict";e.o=function(t){let e=Object(o.i)(t.rows);for(let r=0;r<t.rows;++r)for(let o=0;o<t.columns;++o)e[r]+=t.get(r,o);return e},e.n=function(t){let e=Object(o.i)(t.columns);for(let r=0;r<t.rows;++r)for(let o=0;o<t.columns;++o)e[o]+=t.get(r,o);return e},e.m=function(t){let e=0;for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)e+=t.get(r,o);return e},e.i=function(t){let e=Object(o.i)(t.rows,1);for(let r=0;r<t.rows;++r)for(let o=0;o<t.columns;++o)e[r]*=t.get(r,o);return e},e.h=function(t){let e=Object(o.i)(t.columns,1);for(let r=0;r<t.rows;++r)for(let o=0;o<t.columns;++o)e[o]*=t.get(r,o);return e},e.g=function(t){let e=1;for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)e*=t.get(r,o);return e},e.r=function(t,e,r){const o=t.rows,n=t.columns,s=[];for(let i=0;i<o;i++){let o=0,u=0,a=0;for(let e=0;e<n;e++)a=t.get(i,e)-r[i],o+=a,u+=a*a;e?s.push((u-o*o/n)/(n-1)):s.push((u-o*o/n)/n)}return s},e.q=function(t,e,r){const o=t.rows,n=t.columns,s=[];for(let i=0;i<n;i++){let n=0,u=0,a=0;for(let e=0;e<o;e++)a=t.get(e,i)-r[i],n+=a,u+=a*a;e?s.push((u-n*n/o)/(o-1)):s.push((u-n*n/o)/o)}return s},e.p=function(t,e,r){const o=t.rows,n=t.columns,s=o*n;let i=0,u=0,a=0;for(let c=0;c<o;c++)for(let e=0;e<n;e++)a=t.get(c,e)-r,i+=a,u+=a*a;return e?(u-i*i/s)/(s-1):(u-i*i/s)/s},e.c=function(t,e){for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)t.set(r,o,t.get(r,o)-e[r])},e.b=function(t,e){for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)t.set(r,o,t.get(r,o)-e[o])},e.a=function(t,e){for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)t.set(r,o,t.get(r,o)-e)},e.f=function(t){const e=[];for(let r=0;r<t.rows;r++){let o=0;for(let e=0;e<t.columns;e++)o+=Math.pow(t.get(r,e),2)/(t.columns-1);e.push(Math.sqrt(o))}return e},e.l=function(t,e){for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)t.set(r,o,t.get(r,o)/e[r])},e.e=function(t){const e=[];for(let r=0;r<t.columns;r++){let o=0;for(let e=0;e<t.rows;e++)o+=Math.pow(t.get(e,r),2)/(t.rows-1);e.push(Math.sqrt(o))}return e},e.k=function(t,e){for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)t.set(r,o,t.get(r,o)/e[o])},e.d=function(t){const e=t.size-1;let r=0;for(let o=0;o<t.columns;o++)for(let n=0;n<t.rows;n++)r+=Math.pow(t.get(n,o),2)/e;return Math.sqrt(r)},e.j=function(t,e){for(let r=0;r<t.rows;r++)for(let o=0;o<t.columns;o++)t.set(r,o,t.get(r,o)/e)};var o=r(5)},function(t,e,r){"use strict";e.a=function(){const t=" ".repeat(2),e=" ".repeat(4);return`${this.constructor.name} {\n${t}[\n${e}${function(t,e){const{rows:r,columns:s}=t,u=Math.min(r,o),a=Math.min(s,n),c=[];for(let o=0;o<u;o++){let e=[];for(let r=0;r<a;r++)e.push(i(t.get(o,r)));c.push(`${e.join(" ")}`)}a!==s&&(c[c.length-1]+=` ... ${s-n} more columns`);u!==r&&c.push(`... ${r-o} more rows`);return c.join(`\n${e}`)}(this,e)}\n${t}]\n${t}rows: ${this.rows}\n${t}columns: ${this.columns}\n}`};const o=15,n=10,s=8;function i(t){const e=String(t);if(e.length<=s)return e.padEnd(s," ");const r=t.toPrecision(s-2);if(r.length<=s)return r;const o=t.toExponential(s-2),n=o.indexOf("e"),i=o.substring(n);return o.substring(0,s-i.length)+i}},function(t,e,r){"use strict";e.a=function(t,e){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){const o=new e(t);return o.add(r)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){const o=new e(t);return o.sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){const o=new e(t);return o.mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){const o=new e(t);return o.div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){const o=new e(t);return o.mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){const o=new e(t);return o.and(r)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){const o=new e(t);return o.or(r)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){const o=new e(t);return o.xor(r)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){const o=new e(t);return o.leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){const o=new e(t);return o.signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){const o=new e(t);return o.rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){const r=new e(t);return r.not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){const r=new e(t);return r.abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){const r=new e(t);return r.acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){const r=new e(t);return r.acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){const r=new e(t);return r.asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){const r=new e(t);return r.asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){const r=new e(t);return r.atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){const r=new e(t);return r.atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){const r=new e(t);return r.cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){const r=new e(t);return r.ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){const r=new e(t);return r.clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){const r=new e(t);return r.cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){const r=new e(t);return r.cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){const r=new e(t);return r.exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){const r=new e(t);return r.expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){const r=new e(t);return r.floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){const r=new e(t);return r.fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){const r=new e(t);return r.log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){const r=new e(t);return r.log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){const r=new e(t);return r.log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){const r=new e(t);return r.log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){const r=new e(t);return r.round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){const r=new e(t);return r.sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){const r=new e(t);return r.sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){const r=new e(t);return r.sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){const r=new e(t);return r.sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){const r=new e(t);return r.tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){const r=new e(t);return r.tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){const r=new e(t);return r.trunc()},t.pow=function(t,r){const o=new e(t);return o.pow(r)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this}}},function(t,e,r){"use strict";r(170),r(171),r(172),r(173),r(174),r(175),r(53),r(176);var o=r(177);r.d(e,"a",function(){return o.a})},function(t,e,r){"use strict";r(5),r(3)},function(t,e,r){"use strict";r(5),r(3)},function(t,e,r){"use strict";r(3)},function(t,e,r){"use strict";r(3)},function(t,e,r){"use strict";r(5),r(3)},function(t,e,r){"use strict";r(5),r(3)},function(t,e,r){"use strict";r(5),r(3)},function(t,e,r){"use strict";var o=r(3);e.a=class extends o.a{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}}},function(t,e,r){"use strict";r(54),r(4)},function(t,e,r){"use strict";r(29),r(55),r(20),r(0),r(4)},function(t,e,r){"use strict";r(0),r(29),r(53)},function(t,e,r){"use strict";r(0),r(20)},function(t,e,r){"use strict";r(20),r(0)},function(t,e,r){"use strict";r(0)},function(t,e,r){"use strict";r(0)},function(t,e,r){"use strict";var o=r(0),n=r(4),s=r(30);function i(t,e,r,o){let n,s;return Math.abs(r)>Math.abs(o)?[(t+(n=o/r)*e)/(s=r+n*o),(e-n*t)/s]:[((n=r/o)*t+e)/(s=o+n*r),(n*e-t)/s]}e.a=class{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(!(t=n.a.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");let u,a,c=t.columns,f=new o.b(c,c),h=new Float64Array(c),l=new Float64Array(c),p=t,g=!1;if(g=!!r||t.isSymmetric()){for(u=0;u<c;u++)for(a=0;a<c;a++)f.set(u,a,p.get(u,a));!function(t,e,r,o){let n,s,i,u,a,c,f,h;for(a=0;a<t;a++)r[a]=o.get(t-1,a);for(u=t-1;u>0;u--){for(h=0,i=0,c=0;c<u;c++)h+=Math.abs(r[c]);if(0===h)for(e[u]=r[u-1],a=0;a<u;a++)r[a]=o.get(u-1,a),o.set(u,a,0),o.set(a,u,0);else{for(c=0;c<u;c++)r[c]/=h,i+=r[c]*r[c];for(n=r[u-1],s=Math.sqrt(i),n>0&&(s=-s),e[u]=h*s,i-=n*s,r[u-1]=n-s,a=0;a<u;a++)e[a]=0;for(a=0;a<u;a++){for(n=r[a],o.set(a,u,n),s=e[a]+o.get(a,a)*n,c=a+1;c<=u-1;c++)s+=o.get(c,a)*r[c],e[c]+=o.get(c,a)*n;e[a]=s}for(n=0,a=0;a<u;a++)e[a]/=i,n+=e[a]*r[a];for(f=n/(i+i),a=0;a<u;a++)e[a]-=f*r[a];for(a=0;a<u;a++){for(n=r[a],s=e[a],c=a;c<=u-1;c++)o.set(c,a,o.get(c,a)-(n*e[c]+s*r[c]));r[a]=o.get(u-1,a),o.set(u,a,0)}}r[u]=i}for(u=0;u<t-1;u++){if(o.set(t-1,u,o.get(u,u)),o.set(u,u,1),0!==(i=r[u+1])){for(c=0;c<=u;c++)r[c]=o.get(c,u+1)/i;for(a=0;a<=u;a++){for(s=0,c=0;c<=u;c++)s+=o.get(c,u+1)*o.get(c,a);for(c=0;c<=u;c++)o.set(c,a,o.get(c,a)-s*r[c])}}for(c=0;c<=u;c++)o.set(c,u+1,0)}for(a=0;a<t;a++)r[a]=o.get(t-1,a),o.set(t-1,a,0);o.set(t-1,t-1,1),e[0]=0}(c,l,h,f),function(t,e,r,o){let n,i,u,a,c,f,h,l,p,g,m,w,b,d,y,v,x;for(u=1;u<t;u++)e[u-1]=e[u];e[t-1]=0;let M=0,_=0,j=Number.EPSILON;for(f=0;f<t;f++){for(_=Math.max(_,Math.abs(r[f])+Math.abs(e[f])),h=f;h<t&&!(Math.abs(e[h])<=j*_);)h++;if(h>f){x=0;do{for(x+=1,n=r[f],l=(r[f+1]-n)/(2*e[f]),p=Object(s.a)(l,1),l<0&&(p=-p),r[f]=e[f]/(l+p),r[f+1]=e[f]*(l+p),g=r[f+1],i=n-r[f],u=f+2;u<t;u++)r[u]-=i;for(M+=i,l=r[h],w=m=1,b=m,d=e[f+1],y=0,v=0,u=h-1;u>=f;u--)for(b=w,w=m,v=y,n=m*e[u],i=m*l,p=Object(s.a)(l,e[u]),e[u+1]=y*p,y=e[u]/p,l=(m=l/p)*r[u]-y*n,r[u+1]=i+y*(m*n+y*r[u]),c=0;c<t;c++)i=o.get(c,u+1),o.set(c,u+1,y*o.get(c,u)+m*i),o.set(c,u,m*o.get(c,u)-y*i);l=-y*v*b*d*e[f]/g,e[f]=y*l,r[f]=m*l}while(Math.abs(e[f])>j*_)}r[f]=r[f]+M,e[f]=0}for(u=0;u<t-1;u++){for(c=u,l=r[u],a=u+1;a<t;a++)r[a]<l&&(c=a,l=r[a]);if(c!==u)for(r[c]=r[u],r[u]=l,a=0;a<t;a++)l=o.get(a,u),o.set(a,u,o.get(a,c)),o.set(a,c,l)}}(c,l,h,f)}else{let t=new o.b(c,c),e=new Float64Array(c);for(a=0;a<c;a++)for(u=0;u<c;u++)t.set(u,a,p.get(u,a));!function(t,e,r,o){let n,s,i,u,a,c,f,h=t-1;for(c=1;c<=h-1;c++){for(f=0,u=c;u<=h;u++)f+=Math.abs(e.get(u,c-1));if(0!==f){for(i=0,u=h;u>=c;u--)r[u]=e.get(u,c-1)/f,i+=r[u]*r[u];for(s=Math.sqrt(i),r[c]>0&&(s=-s),i-=r[c]*s,r[c]=r[c]-s,a=c;a<t;a++){for(n=0,u=h;u>=c;u--)n+=r[u]*e.get(u,a);for(n/=i,u=c;u<=h;u++)e.set(u,a,e.get(u,a)-n*r[u])}for(u=0;u<=h;u++){for(n=0,a=h;a>=c;a--)n+=r[a]*e.get(u,a);for(n/=i,a=c;a<=h;a++)e.set(u,a,e.get(u,a)-n*r[a])}r[c]=f*r[c],e.set(c,c-1,f*s)}}for(u=0;u<t;u++)for(a=0;a<t;a++)o.set(u,a,u===a?1:0);for(c=h-1;c>=1;c--)if(0!==e.get(c,c-1)){for(u=c+1;u<=h;u++)r[u]=e.get(u,c-1);for(a=c;a<=h;a++){for(s=0,u=c;u<=h;u++)s+=r[u]*o.get(u,a);for(s=s/r[c]/e.get(c,c-1),u=c;u<=h;u++)o.set(u,a,o.get(u,a)+s*r[u])}}}(c,t,e,f),function(t,e,r,o,n){let s,u,a,c,f,h,l,p,g,m,w,b,d,y,v,x=t-1,M=t-1,_=Number.EPSILON,j=0,O=0,S=0,E=0,R=0,A=0,k=0,P=0;for(s=0;s<t;s++)for((s<0||s>M)&&(r[s]=n.get(s,s),e[s]=0),u=Math.max(s-1,0);u<t;u++)O+=Math.abs(n.get(s,u));for(;x>=0;){for(c=x;c>0&&(0===(A=Math.abs(n.get(c-1,c-1))+Math.abs(n.get(c,c)))&&(A=O),!(Math.abs(n.get(c,c-1))<_*A));)c--;if(c===x)n.set(x,x,n.get(x,x)+j),r[x]=n.get(x,x),e[x]=0,x--,P=0;else if(c===x-1){if(l=n.get(x,x-1)*n.get(x-1,x),S=(n.get(x-1,x-1)-n.get(x,x))/2,E=S*S+l,k=Math.sqrt(Math.abs(E)),n.set(x,x,n.get(x,x)+j),n.set(x-1,x-1,n.get(x-1,x-1)+j),p=n.get(x,x),E>=0){for(k=S>=0?S+k:S-k,r[x-1]=p+k,r[x]=r[x-1],0!==k&&(r[x]=p-l/k),e[x-1]=0,e[x]=0,p=n.get(x,x-1),A=Math.abs(p)+Math.abs(k),S=p/A,E=k/A,R=Math.sqrt(S*S+E*E),S/=R,E/=R,u=x-1;u<t;u++)k=n.get(x-1,u),n.set(x-1,u,E*k+S*n.get(x,u)),n.set(x,u,E*n.get(x,u)-S*k);for(s=0;s<=x;s++)k=n.get(s,x-1),n.set(s,x-1,E*k+S*n.get(s,x)),n.set(s,x,E*n.get(s,x)-S*k);for(s=0;s<=M;s++)k=o.get(s,x-1),o.set(s,x-1,E*k+S*o.get(s,x)),o.set(s,x,E*o.get(s,x)-S*k)}else r[x-1]=p+S,r[x]=p+S,e[x-1]=k,e[x]=-k;x-=2,P=0}else{if(p=n.get(x,x),g=0,l=0,c<x&&(g=n.get(x-1,x-1),l=n.get(x,x-1)*n.get(x-1,x)),10===P){for(j+=p,s=0;s<=x;s++)n.set(s,s,n.get(s,s)-p);A=Math.abs(n.get(x,x-1))+Math.abs(n.get(x-1,x-2)),p=g=.75*A,l=-.4375*A*A}if(30===P&&(A=(A=(g-p)/2)*A+l)>0){for(A=Math.sqrt(A),g<p&&(A=-A),A=p-l/((g-p)/2+A),s=0;s<=x;s++)n.set(s,s,n.get(s,s)-A);j+=A,p=g=l=.964}for(P+=1,f=x-2;f>=c&&(k=n.get(f,f),S=((R=p-k)*(A=g-k)-l)/n.get(f+1,f)+n.get(f,f+1),E=n.get(f+1,f+1)-k-R-A,R=n.get(f+2,f+1),A=Math.abs(S)+Math.abs(E)+Math.abs(R),S/=A,E/=A,R/=A,f!==c)&&!(Math.abs(n.get(f,f-1))*(Math.abs(E)+Math.abs(R))<_*(Math.abs(S)*(Math.abs(n.get(f-1,f-1))+Math.abs(k)+Math.abs(n.get(f+1,f+1)))));)f--;for(s=f+2;s<=x;s++)n.set(s,s-2,0),s>f+2&&n.set(s,s-3,0);for(a=f;a<=x-1&&(y=a!==x-1,a!==f&&(S=n.get(a,a-1),E=n.get(a+1,a-1),R=y?n.get(a+2,a-1):0,0!==(p=Math.abs(S)+Math.abs(E)+Math.abs(R))&&(S/=p,E/=p,R/=p)),0!==p);a++)if(A=Math.sqrt(S*S+E*E+R*R),S<0&&(A=-A),0!==A){for(a!==f?n.set(a,a-1,-A*p):c!==f&&n.set(a,a-1,-n.get(a,a-1)),p=(S+=A)/A,g=E/A,k=R/A,E/=S,R/=S,u=a;u<t;u++)S=n.get(a,u)+E*n.get(a+1,u),y&&(S+=R*n.get(a+2,u),n.set(a+2,u,n.get(a+2,u)-S*k)),n.set(a,u,n.get(a,u)-S*p),n.set(a+1,u,n.get(a+1,u)-S*g);for(s=0;s<=Math.min(x,a+3);s++)S=p*n.get(s,a)+g*n.get(s,a+1),y&&(S+=k*n.get(s,a+2),n.set(s,a+2,n.get(s,a+2)-S*R)),n.set(s,a,n.get(s,a)-S),n.set(s,a+1,n.get(s,a+1)-S*E);for(s=0;s<=M;s++)S=p*o.get(s,a)+g*o.get(s,a+1),y&&(S+=k*o.get(s,a+2),o.set(s,a+2,o.get(s,a+2)-S*R)),o.set(s,a,o.get(s,a)-S),o.set(s,a+1,o.get(s,a+1)-S*E)}}}if(0!==O){for(x=t-1;x>=0;x--)if(S=r[x],0===(E=e[x]))for(c=x,n.set(x,x,1),s=x-1;s>=0;s--){for(l=n.get(s,s)-S,R=0,u=c;u<=x;u++)R+=n.get(s,u)*n.get(u,x);if(e[s]<0)k=l,A=R;else if(c=s,0===e[s]?n.set(s,x,0!==l?-R/l:-R/(_*O)):(p=n.get(s,s+1),g=n.get(s+1,s),E=(r[s]-S)*(r[s]-S)+e[s]*e[s],h=(p*A-k*R)/E,n.set(s,x,h),n.set(s+1,x,Math.abs(p)>Math.abs(k)?(-R-l*h)/p:(-A-g*h)/k)),h=Math.abs(n.get(s,x)),_*h*h>1)for(u=s;u<=x;u++)n.set(u,x,n.get(u,x)/h)}else if(E<0)for(c=x-1,Math.abs(n.get(x,x-1))>Math.abs(n.get(x-1,x))?(n.set(x-1,x-1,E/n.get(x,x-1)),n.set(x-1,x,-(n.get(x,x)-S)/n.get(x,x-1))):(v=i(0,-n.get(x-1,x),n.get(x-1,x-1)-S,E),n.set(x-1,x-1,v[0]),n.set(x-1,x,v[1])),n.set(x,x-1,0),n.set(x,x,1),s=x-2;s>=0;s--){for(m=0,w=0,u=c;u<=x;u++)m+=n.get(s,u)*n.get(u,x-1),w+=n.get(s,u)*n.get(u,x);if(l=n.get(s,s)-S,e[s]<0)k=l,R=m,A=w;else if(c=s,0===e[s]?(v=i(-m,-w,l,E),n.set(s,x-1,v[0]),n.set(s,x,v[1])):(p=n.get(s,s+1),g=n.get(s+1,s),b=(r[s]-S)*(r[s]-S)+e[s]*e[s]-E*E,d=2*(r[s]-S)*E,0===b&&0===d&&(b=_*O*(Math.abs(l)+Math.abs(E)+Math.abs(p)+Math.abs(g)+Math.abs(k))),v=i(p*R-k*m+E*w,p*A-k*w-E*m,b,d),n.set(s,x-1,v[0]),n.set(s,x,v[1]),Math.abs(p)>Math.abs(k)+Math.abs(E)?(n.set(s+1,x-1,(-m-l*n.get(s,x-1)+E*n.get(s,x))/p),n.set(s+1,x,(-w-l*n.get(s,x)-E*n.get(s,x-1))/p)):(v=i(-R-g*n.get(s,x-1),-A-g*n.get(s,x),k,E),n.set(s+1,x-1,v[0]),n.set(s+1,x,v[1]))),h=Math.max(Math.abs(n.get(s,x-1)),Math.abs(n.get(s,x))),_*h*h>1)for(u=s;u<=x;u++)n.set(u,x-1,n.get(u,x-1)/h),n.set(u,x,n.get(u,x)/h)}for(s=0;s<t;s++)if(s<0||s>M)for(u=s;u<t;u++)o.set(s,u,n.get(s,u));for(u=t-1;u>=0;u--)for(s=0;s<=M;s++){for(k=0,a=0;a<=Math.min(u,M);a++)k+=o.get(s,a)*n.get(a,u);o.set(s,u,k)}}}(c,l,h,f,t)}this.n=c,this.e=l,this.d=h,this.V=f}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,n=this.e,s=this.d,i=new o.b(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)i.set(t,e,0);i.set(t,t,s[t]),n[t]>0?i.set(t,t+1,n[t]):n[t]<0&&i.set(t,t-1,n[t])}return i}}},function(t,e,r){"use strict";r(0),r(4)},function(t,e,r){"use strict";var o=r(4),n=r(0);e.a=class{constructor(t,e={}){t=o.a.checkMatrix(t);let{Y:r}=e;const{scaleScores:s=!1,maxIterations:i=1e3,terminationCriteria:u=1e-10}=e;let a;if(r){if(!(r=Array.isArray(r)&&"number"===typeof r[0]?n.b.columnVector(r):o.a.checkMatrix(r)).isColumnVector()||r.rows!==t.rows)throw new Error("Y must be a column vector of length X.rows");a=r}else a=t.getColumnVector(0);let c,f,h,l,p=1;for(let o=0;o<i&&p>u;o++)h=(h=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0))).div(h.norm()),c=t.mmul(h).div(h.transpose().mmul(h).get(0,0)),o>0&&(p=c.clone().sub(l).pow(2).sum()),l=c.clone(),r?(f=(f=r.transpose().mmul(c).div(c.transpose().mmul(c).get(0,0))).div(f.norm()),a=r.mmul(f).div(f.transpose().mmul(f).get(0,0))):a=c;if(r){let e=t.transpose().mmul(c).div(c.transpose().mmul(c).get(0,0));e=e.div(e.norm());let o=t.clone().sub(c.clone().mmul(e.transpose())),n=a.transpose().mmul(c).div(c.transpose().mmul(c).get(0,0)),s=r.clone().sub(c.clone().mulS(n.get(0,0)).mmul(f.transpose()));this.t=c,this.p=e.transpose(),this.w=h.transpose(),this.q=f,this.u=a,this.s=c.transpose().mmul(c),this.xResidual=o,this.yResidual=s,this.betas=n}else this.w=h.transpose(),this.s=c.transpose().mmul(c).sqrt(),this.t=s?c.clone().div(this.s.get(0,0)):c,this.xResidual=t.sub(c.mmul(h.transpose()))}}}]);
//# sourceMappingURL=b64d94d0e4d5347c7c09.worker.js.map